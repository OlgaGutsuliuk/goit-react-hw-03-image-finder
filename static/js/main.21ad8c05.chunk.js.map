{"version":3,"sources":["Components/imageGalleryItem/ImageGalleryItem.module.css","Components/modal/Modal.module.css","Components/imageGallery/ImageGallery.module.css","Components/button/Button.module.css","Components/services/new-api.js","Components/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/searchbar/Searchbar.js","Components/button/Button.js","Components/modal/Modal.js","Components/App.js","index.js","Components/searchbar/Searchbar.module.css"],"names":["module","exports","searchQuery","page","axios","get","then","response","data","hits","ImageGalleryItem","webformatURL","largeImageURL","getImage","className","style","src","alt","ImageGalleryItem_image","onClick","ImageGallery","map","id","Searchbar","state","query","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onChangeQuery","SearchForm","onSubmit","this","type","SearchForm_button","SearchForm_label","SearchForm_input","placeholder","onChange","Component","Button","fetchArticles","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","console","log","onClose","handleOverlay","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","App","isLoading","error","showModal","options","newApi","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","URL","toggleModal","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.21ad8c05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3SaBd\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2NUZk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2o3ca\",\"Modal\":\"Modal_Modal__3A_Sq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Jy0A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2tymU\"};","import axios from \"axios\";\n\n\n const API_KEY = \"21136426-afcb5201061db39cb3c01877f\";\n\nconst fetchArticles = ({searchQuery=\"\", page=1}) => {\n    return axios\n        .get(`https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n    .then(response=>response.data.hits)\n}\nexport default {fetchArticles}","import React from 'react';\nimport style from '../imageGalleryItem/ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, getImage }) => {\n    const getImg = () => {\n        getImage(largeImageURL) \n    }\n    return (\n        <li className={style.ImageGalleryItem}>\n            <img src={webformatURL} alt=\"\" className={style.ImageGalleryItem_image} onClick={getImg}  />\n</li>\n    );\n}\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    getImage: PropTypes.func.isRequired,\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\nimport style from '../imageGallery/ImageGallery.module.css';\n\n\n\nconst ImageGallery = ({ hits, getImage}) => {\n    return (\n        <ul className={style.ImageGallery}>\n       \n            {hits.map(({ id, webformatURL, largeImageURL }) => <ImageGalleryItem key={id} webformatURL={webformatURL} largeImageURL={largeImageURL} getImage={getImage} />)}\n        </ul>   \n\n    );\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n    hits: PropTypes.array.isRequired,\n    getImage: PropTypes.func.isRequired,\n}","import React, { Component } from \"react\";\nimport style from '../searchbar/Searchbar.module.css';\nimport PropTypes from 'prop-types'\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\"\n  };\n\n  handleChange = event => {\n    this.setState({ query: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onChangeQuery(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form className={style.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={style.SearchForm_button}>\n            <span className={style.SearchForm_label}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchForm_input}\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onChangeQuery: PropTypes.func.isRequired,\n}\n\n","import React from \"react\";\nimport style from '../button/Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ fetchArticles }) => {\n  return (\n    <button className={style.Button} type=\"button\" onClick={fetchArticles}>\n     Load more\n    </button>\n  );\n};\n\nexport default Button;\n\n\nButton.propTypes = {\n  fetchArticles: PropTypes.func.isRequired\n}","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport style from \"../modal/Modal.module.css\";\nimport PropTypes from 'prop-types'\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown)\n  }\n  \n  componentWillUnmount() {\n   window.removeEventListener('keydown', this.handleKeyDown) \n  }\n\n\n  handleKeyDown = e => {\n  if (e.code === \"Escape\") {\n         console.log('Escape');\n        this.props.onClose()  \n  }\n}\n  handleOverlay = (e) => {\n    console.log('bac');\n    if (e.currentTarget === e.target) {\n      this.props.onClose()\n    }\n      \n  }\n  \n\n  render() {\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleOverlay}>\n        <div className={style.Modal}>\n          <img src={this.props.largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n}\n","import React, { Component } from \"react\";\nimport newApi from \"./services/new-api\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport Button from \"./button/Button\";\nimport Modal from \"./modal/Modal\";\nimport Loader from \"react-loader-spinner\";\n\nclass App extends Component {\n  state = {\n    hits: [],\n    largeImageURL: \"\",\n    searchQuery: \"\",\n    page: 1,\n    isLoading: false,\n    error: null,\n    showModal: false\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchArticles();\n    }\n  }\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, page: 1, hits: [], error: null });\n  };\n\n  fetchArticles = () => {\n    const { page, searchQuery } = this.state;\n    const options = { page, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    newApi\n      .fetchArticles(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          page: prevState.page + 1\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\"\n        });\n\n        this.setState({\n          isLoading: false\n        });\n      });\n  };\n\n  getImage = URL => {\n    this.setState({\n      largeImageURL: URL\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal\n    }));\n  };\n\n  render() {\n    const { hits, isLoading, error, showModal } = this.state;\n    return (\n      <>\n        {error && <h2>ХАЛЕПА</h2>}\n        <Searchbar onChangeQuery={this.onChangeQuery} />\n        {isLoading && <Loader />}\n\n        <ImageGallery hits={hits} getImage={this.getImage} />\n        {hits.length > 0 && <Button fetchArticles={this.fetchArticles} />}\n        {showModal && <Modal largeImageURL={this.state.largeImageURL} onClose={this.toggleModal} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3H-mo\",\"SearchForm\":\"Searchbar_SearchForm__2omOY\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2jC_k\",\"SearchForm_label\":\"Searchbar_SearchForm_label__2DtCo\",\"SearchForm_input\":\"Searchbar_SearchForm_input__mp3Gm\"};"],"sourceRoot":""}